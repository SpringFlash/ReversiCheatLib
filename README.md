# ReversiCheat

Бот для игры в реверси с автоматическим кликом. Анализирует скриншот игрового поля и выполняет клик по координатам лучшего хода.

## Установка

```bash
# Установка зависимостей
npm install

# Установка системных зависимостей (для Linux)
sudo apt-get install -y xdotool imagemagick x11-apps
```

### Установка для Windows

Для Windows требуется установить дополнительные зависимости для сборки модуля robotjs:

```bash
# Установка windows-build-tools (запускать от имени администратора в PowerShell)
npm install --global --production windows-build-tools

# Установка node-gyp
npm install -g node-gyp
```

## Использование

### Одиночный ход

Для выполнения одиночного хода используйте:

```bash
npm run autoplay
```

Этот скрипт сделает скриншот активного окна, проанализирует его и выполнит клик по координатам лучшего хода.

### Автоматическая игра с интервалом

Для запуска автоматической игры с интервалом используйте:

```bash
npm run auto-player
```

После запуска вы можете использовать следующие команды:

- `start` - Запустить автоматическую игру
- `stop` - Остановить автоматическую игру
- `interval <seconds>` - Изменить интервал между ходами (в секундах)
- `once` - Сделать один ход
- `status` - Показать текущий статус
- `help` - Показать справку
- `exit` - Выйти из программы

### Автоматическая игра для конкретного окна (Linux)

Для запуска автоматической игры для конкретного окна в Linux используйте:

```bash
npm run window-player
```

После запуска вы можете использовать следующие команды:

- `list` или `list-windows` - Показать список всех окон
- `window <name>` - Установить имя целевого окна
- `start` - Запустить автоматическую игру
- `stop` - Остановить автоматическую игру
- `interval <seconds>` - Изменить интервал между ходами (в секундах)
- `once` - Сделать один ход
- `status` - Показать текущий статус
- `help` - Показать справку
- `exit` - Выйти из программы

### Автоматическая игра для Windows

Для запуска автоматической игры в Windows используйте:

```bash
npm run window-player-win
```

После запуска вы можете использовать следующие команды:

- `list` или `list-screens` - Показать список всех экранов
- `start` - Запустить автоматическую игру
- `stop` - Остановить автоматическую игру
- `interval <seconds>` - Изменить интервал между ходами (в секундах)
- `once` - Сделать один ход
- `status` - Показать текущий статус
- `help` - Показать справку
- `exit` - Выйти из программы

## Требования

- Node.js 18+
- Python 3.6+ с установленными библиотеками для обработки изображений
- Для Linux:
  - xdotool
  - imagemagick
  - x11-apps
- Для Windows:
  - windows-build-tools
  - node-gyp

## Как это работает

1. Скрипт делает скриншот окна игры
2. Анализирует скриншот с помощью алгоритмов компьютерного зрения
3. Определяет текущее состояние игрового поля
4. Находит лучший ход с помощью алгоритма оценки ходов
5. Выполняет клик по координатам лучшего хода

## Устранение неполадок

### Не удается сделать скриншот окна

Попробуйте разные методы создания скриншота:

1. Используйте команду `list-windows` для отображения списка всех окон (в Linux)
2. Выберите окно с помощью команды `window <name>` (в Linux)
3. Попробуйте сделать один ход с помощью команды `once`

### Неправильное определение игрового поля

Убедитесь, что игровое поле хорошо видно на экране и нет посторонних объектов, которые могут быть приняты за игровое поле.

### Неправильные координаты клика

Если бот неправильно кликает, попробуйте использовать режим для конкретного окна (`window-player` для Linux или `window-player-win` для Windows), чтобы избежать проблем с координатами.

### Проблемы с установкой robotjs на Windows

Если у вас возникают проблемы с установкой robotjs на Windows, попробуйте следующие шаги:

1. Убедитесь, что у вас установлен Python 2.7 (не 3.x)
2. Установите Visual Studio Build Tools
3. Запустите команду `npm rebuild robotjs` в директории проекта
