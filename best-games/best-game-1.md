# Алгоритм Минимакс с альфа-бета отсечением для Реверси

## Основные принципы алгоритма

Минимакс с альфа-бета отсечением — это фундаментальный алгоритм для игр с полной информацией, который значительно повышает эффективность поиска наилучшего хода в игре Реверси.

### Как работает алгоритм

1. **Построение дерева игры**: Алгоритм строит дерево возможных ходов, где:

   - На уровнях MAX выбирается ход с максимальной оценкой (ход игрока)
   - На уровнях MIN выбирается ход с минимальной оценкой (ход противника)

2. **Альфа-бета отсечение**: Позволяет не рассматривать ветви, которые не повлияют на конечный результат:

   - α (альфа) — нижняя граница оценки для уровня MAX
   - β (бета) — верхняя граница оценки для уровня MIN
   - Если α ≥ β, можно "отсечь" (не рассматривать) оставшиеся ходы

3. **Глубина поиска**: Обычно алгоритм ограничивается определенной глубиной (6-12 ходов), после чего применяется оценочная функция.

## Оценочная функция для Реверси

Для эффективной работы минимакса критически важна хорошая оценочная функция. Для Реверси часто используется комбинация следующих факторов:

### 1. Позиционные веса

```
Таблица весов для доски 8x8:
120 -20  20   5   5  20 -20 120
-20 -40  -5  -5  -5  -5 -40 -20
 20  -5  15   3   3  15  -5  20
  5  -5   3   3   3   3  -5   5
  5  -5   3   3   3   3  -5   5
 20  -5  15   3   3  15  -5  20
-20 -40  -5  -5  -5  -5 -40 -20
120 -20  20   5   5  20 -20 120
```

- Углы (120) — наиболее ценные клетки
- Клетки рядом с углами (-20, -40) — опасные позиции
- Края (20, 15) — стабильные позиции

### 2. Мобильность

- Количество доступных ходов для игрока минус количество ходов противника
- Высокая мобильность означает больше стратегических возможностей

### 3. Стабильность дисков

- Стабильные диски: не могут быть перевернуты до конца игры
- Полустабильные диски: не могут быть перевернуты в ближайшее время
- Нестабильные диски: могут быть легко перевернуты

### 4. Контроль углов

- Бонус за каждый захваченный угол
- Штраф за ходы, дающие противнику доступ к углам

### 5. Паритет

- На поздних стадиях игры важно делать последний ход в каждой области

## Псевдокод алгоритма

```
function alphabeta(position, depth, α, β, maximizingPlayer)
    if depth = 0 or node is a terminal node
        return static evaluation of position

    if maximizingPlayer
        value := -∞
        for each child of position
            value := max(value, alphabeta(child, depth-1, α, β, FALSE))
            α := max(α, value)
            if α ≥ β
                break // β-отсечение
        return value
    else
        value := +∞
        for each child of position
            value := min(value, alphabeta(child, depth-1, α, β, TRUE))
            β := min(β, value)
            if α ≥ β
                break // α-отсечение
        return value
```

## Оптимизации алгоритма

1. **Упорядочивание ходов**: сначала рассматриваются перспективные ходы (углы, края)
2. **Таблицы транспозиций**: запоминание уже проанализированных позиций
3. **Итеративное углубление**: постепенное увеличение глубины поиска
4. **Quiescence Search**: дополнительный анализ "нестабильных" позиций
5. **Временные ограничения**: адаптация глубины поиска под доступное время

## Преимущества и недостатки

### Преимущества

- Гарантирует оптимальный ход при достаточной глубине поиска
- Хорошо работает в эндшпиле (последние 10-14 ходов)
- Относительно прост в реализации

### Недостатки

- Экспоненциальный рост времени работы с увеличением глубины
- Качество сильно зависит от оценочной функции
- На ранних стадиях игры сложно просчитать достаточно глубоко

## Заключение

Минимакс с альфа-бета отсечением является основой большинства сильных программ для игры в Реверси. Для создания действительно сильной программы его следует дополнить продвинутыми эвристиками, базой дебютов и идеальной игрой в эндшпиле. При глубине поиска 8-10 ходов и хорошей оценочной функции такая программа способна играть на уровне опытных игроков.
